
<% if @spacials.present? %>
  <% @spacials.each do |category| %>
      <div class='microposts-c'>
        <button class='microposts-title' onclick='openMicropostList(this)'>
          <p><%= category.category %></p>
          <span class='material-icons'>add</span>
        </button>
        <ol class="microposts">
          <%= render @options[category.category] %>
        </ol>
      </div>
  <% end %>
<% end %>

<% @categories.each do |cat| %>
    <div class='microposts-c'>
      <button class='microposts-title' onclick='openMicropostList(this)'>
        <p><%= cat.category %></p>
        <span class='material-icons'>add</span>
      </button>
      <ol class="microposts">
        <%= render @options[cat.category] %>
      </ol>
    </div>
<% end %>

<script>
  function openMicropostList(self) {
    var micropostActiveIcon = self.querySelector('span');
    self.parentElement.querySelector('ol').classList.toggle('active');
    micropostActiveIcon.textContent === 'add'
    ? micropostActiveIcon.textContent = 'remove'
    : micropostActiveIcon.textContent = 'add';
  }
</script>
